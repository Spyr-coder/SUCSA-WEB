<!-- pages/events.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Events - Seme Students Association</title>
  <link rel="stylesheet" href="css/style.css" />

  <!-- ✅ Lightbox2 CSS -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.3/css/lightbox.min.css" rel="stylesheet" />

  <style>
    .events-wrap { display: grid; gap: 1.25rem; }
    .event-card {
      border: 1px solid #e5e7eb;
      border-radius: 14px;
      padding: 1rem 1.25rem;
      box-shadow: 0 2px 10px rgba(0,0,0,0.04);
      background: #fff;
    }
    .event-card h3 { margin: 0 0 0.25rem; }
    .event-meta { font-size: .95rem; color: #374151; margin: .25rem 0 .5rem; }
    .countdown {
      font-size: 1.1rem;
      font-weight: 700;
      color: #b22222;
      margin: .25rem 0 .75rem;
    }
    .gallery { display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); gap: .5rem; margin-bottom: 1rem; }
    .gallery img { width: 100%; height: 120px; object-fit: cover; border-radius: 10px; }
    .section-title { margin-top: 2rem; }
    .muted { color: #6b7280; }
  </style>
</head>
<body>
  <header>
    <h1>Events</h1>
    <nav>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="about.html">About Us</a></li>
        <li><a href="ourfamily.html">Our Family</a></li>
        <li><a href="events.html" class="active">Events</a></li>
        <li><a href="projects.html" class="active">Our Projects</a></li>
        <li><a href="contact.html">Contact</a></li>
      </ul>
    </nav>
  </header>

  <main class="events-wrap">
    <!-- UPCOMING -->
    <section aria-labelledby="upcoming-title">
      <h2 id="upcoming-title">Upcoming Events</h2>
      <p class="muted">Stay updated with our meetings, networking events, and community projects.</p>
      <div id="upcomingEventsList"></div>
      <p id="noUpcoming" class="muted" style="display:none;">No upcoming events at the moment. Check back soon.</p>
    </section>

    <!-- PAST -->
    <section aria-labelledby="past-title" class="section-title">
      <h2 id="past-title">Past Events</h2>
      <div id="pastEventsDynamic"></div>

      <!-- ✅ Added Career Fair -->
      <article class="event-card">
        <h3>SUCSA Career Fair 2025</h3>
        <p class="event-meta"><strong>Date:</strong> 9th August 2025 · <strong>Location:</strong> Pap Kadundo Stadium – Seme</p>
        <p>
          The SUCSA Career Fair hosted students from various secondary schools in Seme Sub-County. 
          We also welcomed students from outside Seme including <strong>Nyakach Girls High School</strong>, 
          <strong>Pangani Girls High School</strong>, and others. <br><br>
          The fair attracted numerous exhibitors from tertiary institutions across Kenya such as 
          <strong>Great Lakes University</strong>, <strong>Co-operative University</strong>, 
          <strong>Kenya Methodist University</strong>, <strong>Daystar University</strong>, among others. <br><br>
          Career advisors from several universities guided students on academic and professional opportunities. 
          The event was graced by renowned guests, dignitaries, and community leaders, making it a memorable and impactful occasion.
        </p>

        <!-- ✅ SUCSA Team -->
        <h4>SUCSA Team</h4>
        <div class="gallery">
          <a href="../assets/images/SUCSA1.jpg" data-lightbox="sucsa"><img src="../assets/images/SUCSA1.jpg" alt=""></a>
          <a href="../assets/images/SUCSA2.jpg" data-lightbox="sucsa"><img src="../assets/images/SUCSA2.jpg" alt=""></a>
          <a href="../assets/images/SUCSA3.jpg" data-lightbox="sucsa"><img src="../assets/images/SUCSA3.jpg" alt=""></a>
          <a href="../assets/images/SUCSA4.jpg" data-lightbox="sucsa"><img src="../assets/images/SUCSA4.jpg" alt=""></a>
          <a href="../assets/images/SUCSA5.jpg" data-lightbox="sucsa"><img src="../assets/images/SUCSA5.jpg" alt=""></a>
          <a href="../assets/images/SUCSA6.jpg" data-lightbox="sucsa"><img src="../assets/images/SUCSA6.jpg" alt=""></a>
          <a href="../assets/images/SUCSA7.jpg" data-lightbox="sucsa"><img src="../assets/images/SUCSA7.jpg" alt=""></a>
          <a href="../assets/images/SUCSA8.jpg" data-lightbox="sucsa"><img src="../assets/images/SUCSA8.jpg" alt=""></a>
          <a href="../assets/images/SUCSA9.jpg" data-lightbox="sucsa"><img src="../assets/images/SUCSA9.jpg" alt=""></a>
          <a href="../assets/images/SUCSA10.jpg" data-lightbox="sucsa"><img src="../assets/images/SUCSA10.jpg" alt=""></a>
        </div>

        <!-- ✅ Brains At Work Team -->
        <h4>Brains At Work Team</h4>
        <div class="gallery">
          <a href="../assets/images/Brains1.jpg" data-lightbox="brains"><img src="../assets/images/Brains1.jpg" alt=""></a>
          <a href="../assets/images/Brains2.jpg" data-lightbox="brains"><img src="../assets/images/Brains2.jpg" alt=""></a>
          <a href="../assets/images/Brains3.jpg" data-lightbox="brains"><img src="../assets/images/Brains3.jpg" alt=""></a>
          <a href="../assets/images/Brains4.jpg" data-lightbox="brains"><img src="../assets/images/Brains4.jpg" alt=""></a>
          <a href="../assets/images/Brains5.jpg" data-lightbox="brains"><img src="../assets/images/Brains5.jpg" alt=""></a>
          <a href="../assets/images/Brains6.jpg" data-lightbox="brains"><img src="../assets/images/Brains6.jpg" alt=""></a>
          <a href="../assets/images/Brains7.jpg" data-lightbox="brains"><img src="../assets/images/Brains7.jpg" alt=""></a>
          <a href="../assets/images/Brains8.jpg" data-lightbox="brains"><img src="../assets/images/Brains8.jpg" alt=""></a>
          <a href="../assets/images/Brains9.jpg" data-lightbox="brains"><img src="../assets/images/Brains9.jpg" alt=""></a>
          <a href="../assets/images/Brains10.jpg" data-lightbox="brains"><img src="../assets/images/Brains10.jpg" alt=""></a>
        </div>

        <!-- ✅ Hisani Foundation Team -->
        <h4>Hisani Foundation Team</h4>
        <div class="gallery">
          <a href="../assets/images/Hisani1.jpg" data-lightbox="hisani"><img src="../assets/images/Hisani1.jpg" alt=""></a>
          <a href="../assets/images/Hisani2.jpg" data-lightbox="hisani"><img src="../assets/images/Hisani2.jpg" alt=""></a>
          <a href="../assets/images/Hisani3.jpg" data-lightbox="hisani"><img src="../assets/images/Hisani3.jpg" alt=""></a>
          <a href="../assets/images/Hisani4.jpg" data-lightbox="hisani"><img src="../assets/images/Hisani4.jpg" alt=""></a>
          <a href="../assets/images/Hisani5.jpg" data-lightbox="hisani"><img src="../assets/images/Hisani5.jpg" alt=""></a>
          <a href="../assets/images/Hisani6.jpg" data-lightbox="hisani"><img src="../assets/images/Hisani6.jpg" alt=""></a>
          <a href="../assets/images/Hisani7.jpg" data-lightbox="hisani"><img src="../assets/images/Hisani7.jpg" alt=""></a>
          <a href="../assets/images/Hisani8.jpg" data-lightbox="hisani"><img src="../assets/images/Hisani8.jpg" alt=""></a>
          <a href="../assets/images/Hisani9.jpg" data-lightbox="hisani"><img src="../assets/images/Hisani9.jpg" alt=""></a>
          <a href="../assets/images/Hisani10.jpg" data-lightbox="hisani"><img src="../assets/images/Hisani10.jpg" alt=""></a>
        </div>
      </article>

      <!-- ✅ Existing Past Events -->
       <article class="event-card">
        <h3>International Day Against Drug Abuse & Illicit Trafficking</h3>
        <p class="event-meta"><strong>Date:</strong> 26th June 2025 · <strong>Location:</strong> Kisumu Rehabilitation School – Seme Kombewa</p>
        <p>SUCSA members visited Kisumu Rehabilitation School to support youth affected by drug abuse.</p>
        <div class="gallery">
          <a href="../assets/images/drugs1.jpg" data-lightbox="drugs"><img src="../assets/images/drugs1.jpg" alt=""></a>
          <a href="../assets/images/drugs2.jpg" data-lightbox="drugs"><img src="../assets/images/drugs2.jpg" alt=""></a>
          <a href="../assets/images/drugs3.jpg" data-lightbox="drugs"><img src="../assets/images/drugs3.jpg" alt=""></a>
          <a href="../assets/images/drugs4.jpg" data-lightbox="drugs"><img src="../assets/images/drugs4.jpg" alt=""></a>
          <a href="../assets/images/drugs5.jpg" data-lightbox="drugs"><img src="../assets/images/drugs5.jpg" alt=""></a>
          <a href="../assets/images/drugs6.jpg" data-lightbox="drugs"><img src="../assets/images/drugs6.jpg" alt=""></a>
          <a href="../assets/images/drugs7.jpg" data-lightbox="drugs"><img src="../assets/images/drugs7.jpg" alt=""></a>
          <a href="../assets/images/drugs8.jpg" data-lightbox="drugs"><img src="../assets/images/drugs8.jpg" alt=""></a>
          <a href="../assets/images/drugs9.jpg" data-lightbox="drugs"><img src="../assets/images/drugs9.jpg" alt=""></a>
          <a href="../assets/images/drugs10.jpg" data-lightbox="drugs"><img src="../assets/images/drugs10.jpg" alt=""></a>
          <a href="../assets/images/drugs11.jpg" data-lightbox="drugs"><img src="../assets/images/drugs11.jpg" alt=""></a>
          <a href="../assets/images/drugs12.jpg" data-lightbox="drugs"><img src="../assets/images/drugs12.jpg" alt=""></a>
          <a href="../assets/images/drugs13.jpg" data-lightbox="drugs"><img src="../assets/images/drugs13.jpg" alt=""></a>
          <a href="../assets/images/drugs14.jpg" data-lightbox="drugs"><img src="../assets/images/drugs14.jpg" alt=""></a>
          <a href="../assets/images/drugs15.jpg" data-lightbox="drugs"><img src="../assets/images/drugs15.jpg" alt=""></a>
          <a href="../assets/images/drugs16.jpg" data-lightbox="drugs"><img src="../assets/images/drugs16.jpg" alt=""></a>
          <a href="../assets/images/drugs17.jpg" data-lightbox="drugs"><img src="../assets/images/drugs17.jpg" alt=""></a>
          <a href="../assets/images/drugs18.jpg" data-lightbox="drugs"><img src="../assets/images/drugs18.jpg" alt=""></a>
        </div>
      </article>

      <!-- Past Event: World Environment Day -->
      <article class="event-card">
        <h3>World Environment Day 2025 – Tree Planting</h3>
        <p class="event-meta"><strong>Date:</strong> 5th June 2025 · <strong>Theme:</strong> “Ending Plastic Pollution” · <strong>Partners:</strong> Seme TVC, Scouts, Staff</p>
        <p>SUCSA joined the world in marking World Environment Day, planting trees and championing environmental sustainability.</p>
        <div class="gallery">
          <a href="../assets/images/treep1.png" data-lightbox="trees"><img src="../assets/images/treep1.png" alt=""></a>
          <a href="../assets/images/treep2.png" data-lightbox="trees"><img src="../assets/images/treep2.png" alt=""></a>
          <a href="../assets/images/treep3.png" data-lightbox="trees"><img src="../assets/images/treep3.png" alt=""></a>
          <a href="../assets/images/treep4.png" data-lightbox="trees"><img src="../assets/images/treep4.png" alt=""></a>
          <a href="../assets/images/treep5.png" data-lightbox="trees"><img src="../assets/images/treep5.png" alt=""></a>
          <a href="../assets/images/treep6.png" data-lightbox="trees"><img src="../assets/images/treep6.png" alt=""></a>
        </div>
      </article>
    </section>
  </main>
<section id="donate" class="donation-section">
  <h2>💝 Support SUCSA</h2>
  <p>Your contribution helps us run community projects, student programs, and outreach initiatives.</p>

  <div class="donation-box">
    <h3>Bank & Mobile Details</h3>
    <p><strong>Bank:</strong> Seme Community Bank</p>
    <p><strong>Account No:</strong> 1234567890</p>
    <p><strong>M-Pesa Paybill:</strong> 987654</p>
    <p><strong>Account Name:</strong> SUCSA</p>
  </div>

  <div class="donation-action">
    <!-- Example: PayPal Donation Button -->
    <a href="https://www.paypal.com/donate?hosted_button_id=YOUR_ID" target="_blank" class="donate-btn">Donate Online</a>
  </div>
</section>

  <footer>
    <p>&copy; 2025 Seme Universities and Colleges Students Association</p>
  </footer>

  <!-- ✅ Lightbox2 JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.3/js/lightbox.min.js"></script>

  <!-- ✅ Dynamic Events Script -->
  <script>
    const EVENTS = [
      {
        id: "health-camp-2025",
        title: "Health Camp",
        venue: "Seme Health Center",
        startISO: "2025-12-19T09:00:00+03:00",
        endISO:   "2025-12-20T17:00:00+03:00",
        detailsHTML: `<p>A health outreach program with <strong>Red Cross</strong>, <strong>Aga Khan</strong>, and other partners.</p>`,
        gallery: []
      },
      {
        id: "agri-expo-2025",
        title: "Agricultural Expo",
        venue: "Pap Kadundo Stadium, Seme",
        startISO: "2025-12-02T10:00:00+03:00",
        endISO:   "2025-12-02T18:00:00+03:00",
        detailsHTML: `<p>An expo showcasing modern agricultural practices and innovations.</p>`,
        gallery: []
      }
    ];

    const TZ = "Africa/Nairobi";

    function formatNairobiDate(dateLike) {
      return new Intl.DateTimeFormat("en-GB", { timeZone: TZ, day: "2-digit", month: "long", year: "numeric" }).format(new Date(dateLike));
    }

    function humanCountdown(ms) {
      if (ms <= 0) return "0d 0h 0m 0s";
      const sec = Math.floor(ms / 1000);
      const days = Math.floor(sec / 86400);
      const hours = Math.floor((sec % 86400) / 3600);
      const mins = Math.floor((sec % 3600) / 60);
      const secs = sec % 60;
      return `${days}d ${hours}h ${mins}m ${secs}s`;
    }

    function el(tag, attrs = {}, html = "") {
      const node = document.createElement(tag);
      Object.entries(attrs).forEach(([k, v]) => {
        if (k === "class") node.className = v;
        else node.setAttribute(k, v);
      });
      if (html) node.innerHTML = html;
      return node;
    }

    function renderEventCard(evt, { section = "upcoming" } = {}) {
      const card = el("article", { class: "event-card", id: `event-${evt.id}` });
      const h3 = el("h3", {}, (section === "upcoming" ? "Upcoming: " : "") + evt.title);
      const meta = el("p", { class: "event-meta" }, `<strong>📍 Venue:</strong> ${evt.venue} &nbsp;·&nbsp; <strong>📅 Date:</strong> ${formatNairobiDate(evt.startISO)}`);
      const countdown = el("p", { class: "countdown", id: `cd-${evt.id}` }, section === "upcoming" ? "⏳ Loading..." : "✅ Completed");
      const details = el("div", {}, evt.detailsHTML || "");
      card.appendChild(h3);
      if (section === "upcoming") card.appendChild(countdown);
      card.appendChild(meta);
      card.appendChild(details);
      return { card, countdownEl: countdown };
    }

    const upcomingWrap = document.getElementById("upcomingEventsList");
    const noUpcoming = document.getElementById("noUpcoming");
    const intervals = new Map();

    function mountUpcoming(evt) {
      const { card, countdownEl } = renderEventCard(evt, { section: "upcoming" });
      upcomingWrap.appendChild(card);
      const startMs = new Date(evt.startISO).getTime();
      function tick() {
        const now = Date.now();
        if (now >= startMs) {
          countdownEl.textContent = "✅ Event has started!";
        } else {
          countdownEl.textContent = "⏳ " + humanCountdown(startMs - now) + " to go";
        }
      }
      tick();
      const intId = setInterval(tick, 1000);
      intervals.set(evt.id, intId);
    }

    function renderAll() {
      upcomingWrap.innerHTML = "";
      intervals.forEach(id => clearInterval(id));
      intervals.clear();
      const now = Date.now();
      EVENTS.forEach(evt => {
        const endMs = new Date(evt.endISO).getTime();
        if (now <= endMs) mountUpcoming(evt);
      });
      noUpcoming.style.display = upcomingWrap.children.length ? "none" : "block";
    }

    renderAll();
  </script>
</body>
</html>
